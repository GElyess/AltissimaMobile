<ion-view view-title="{{'mm.courses.catalogue' | translate}}">
    <ion-content mm-state-class>
        <div ng-app="mm.core.courses" ng-controller="mmcatalogueCtrl">
        	<div ng-if="catalogue.length > 0">
        		<p class="item item-divider" style="">{{ 'mm.courses.catalogue' | translate}}</p>

        		<div class="item item-text-wrap" ng-if="currentCategory && currentCategory.description">
                	<mm-format-text watch="true">{{currentCategory.description}}</mm-format-text>
            	</div>

            	<a ng-repeat="cat in catalogue" ui-sref="site.catalogue({catid: cat.id})">
            		<div class="item item-icon-left item-text-wrap item-icon-right">
            			<i class="icon ion-folder"></i>
            			<h2><mm-format-text watch="true">{{cat.name}}</mm-format-text></h2>
            			<span ng-if="category.coursecount > 0" class="badge badge-light">{{coursecount()}}</span>
            			<i class="icon icon-accessory ion-chevron-right"></i>
            		</div>
            	</a>
            </div>
            <div ng-if="course.length > 0">
            	<p class="item item-divider">{{ 'mm.courses.courses' | translate}}</p>
            	<a ng-repeat="cou in course" ui-sref="site.mm_course({courseid: cou.idnumber, coursefullname: cou.fullname})">
            		<div class="item item-icon-left">
            			<i class="icon ion-ionic"></i>
            			<h2><mm-format-text watch="true">{{cou.fullname}}</mm-format-text></h2>
            		</div>
            	</a>
            </div>
			<div ng-if="!course.length && !catalogue.length" class="item">
                {{ 'mm.courses.nocoursesyet' | translate }}
            </div>
        </div>
    </ion-content>
</ion-view>